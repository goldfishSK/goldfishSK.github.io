<!DOCTYPE html>
<html>

	<head>
		<meta http-equiv="Content-Type" content="text/html; charset=utf-8">

		<meta content="width=device-width,initial-scale=1.0,maximum-scale=1.0,user-scalable=no" name="viewport">
		<meta content="yes" name="apple-mobile-web-app-capable">
		<meta content="black" name="apple-mobile-web-app-status-bar-style">
		<meta content="telephone=no" name="format-detection">
		<meta content="email=no" name="format-detection">

		<title>全名网</title>
		<link rel="stylesheet" href="css/swiper-3.4.2.min.css" />
		<link rel="stylesheet" href="css/tuiIndex.css" />
		<style type="text/css">

		</style>
	</head>

	<body onscroll="getTop()">

		<div class="header">
			<span class="logo"><img src="img/logo.png" alt="" /></span>
			<div class="server">
				<a href="server.html"><img src="img/sousuo.png" /><span class="server_title">家装套装</span></a>
			</div>
			<span class="diandian"><img src="img/fenlei.png"/></span>
		</div>

		<div class="find_nav">
			<div class="find_nav_left">
				<div class="swip_left">
					<span>推荐</span>
				</div>
				<div class="find_nav_list">

					<ul id="pagenavi1">

						<li class="find_nav_cur">
							<a href="#" class="active">墙地材料</a>
						</li>
						<li>
							<a href="#">灯饰照明</a>
						</li>
						<li>
							<a href="#">客厅家具</a>
						</li>
						<li>
							<a href="#">卧室家具</a>
						</li>
						<li>
							<a href="#">餐厅家具</a>
						</li>
						<li>
							<a href="#">厨房用品</a>
						</li>
						<li>
							<a href="#">厨卫电器</a>
						</li>
						<li>
							<a href="#">生活电器</a>
						</li>
						<li>
							<a href="#">卫浴用品</a>
						</li>
						<li>
							<a href="#">儿童家具</a>
						</li>
						<li>
							<a href="#">儿童家具</a>
						</li>
						<li class="sideline"></li>

					</ul>

				</div>
			</div>
		</div>
		<div id="slider0">
			

		</div>
		<div id="slider1" class="swipe">
			<ul class="box01_list">
				<li class="li_list" style="background:#F7F7F7">
					<!-- 轮播图-->
					<div class="swiper-container1">
						<div class="swiper-wrapper">
							<div class="swiper-slide">
								<img src="img/645790c51d4d71c.jpg" alt="" />
							</div>
							<div class="swiper-slide">
								<img src="img/685790c54bbae1c.jpg" alt="" />
							</div>
							<div class="swiper-slide">
								<img src="img/jiaju.png" alt="" />
							</div>
						</div>
						<!-- 如果需要分页器 -->
						<div class="swiper-pagination"></div>
						<div class="swiper-button-prev"></div>
						<div class="swiper-button-next"></div>
					</div>
					<!--  标题  -->
					<div class="con1_content">
						<ul class="qiangdi">
							<li>
								<a href="">
									<img src="img/diban.png" alt="" />
									<span>地板</span>
								</a>
							</li>
							<li>
								<a href="">
									<img src="img/bizhi.png" alt="" />

									<span>壁纸</span>
								</a>
							</li>
							<li>
								<a href="">
									<img src="img/cizhuan.png" alt="" />
									<span>瓷砖</span>
								</a>
							</li>
							<li>
								<a href="">
									<img src="img/bibu.png" alt="" />
									<span>壁布</span>
								</a>
							</li>

						</ul>
					</div>
					<!--  产品 -->
					<div class="product">
						<ul class="product_ul">
							<li class="">
								<img src="img/bizhi.png" alt="" />
								<p><span class="p_title">品牌</span>这里是商品名称</p>
								<span class="pro_sp_left">88</span>
								<label for="">27</label>
							</li>
							<li>
								<img src="img/bizhi.png" alt="" />
								<p><span class="p_title">品牌</span>这里是商品名称</p>
								<span class="pro_sp_left">88</span>
								<label for="">27</label>
							</li>
							<li>
								<img src="img/bizhi.png" alt="" />
								<p><span class="p_title">品牌</span>这里是商品名称</p>
								<span class="pro_sp_left">88</span>
								<label for="">27</label>
							</li>
							<li>
								<img src="img/bizhi.png" alt="" />
								<p><span class="p_title">品牌</span>这里是商品名称</p>
								<span class="pro_sp_left">88</span>
								<label for="">27</label>
							</li>
							<li>
								<img src="img/bizhi.png" alt="" />
								<p><span class="p_title">品牌</span>这里是商品名称</p>
								<span class="pro_sp_left">88</span>
								<label for="">27</label>
							</li>
							<li>
								<img src="img/bizhi.png" alt="" />
								<p><span class="p_title">品牌</span>这里是商品名称</p>
								<span class="pro_sp_left">88</span>
								<label for="">27</label>
							</li>
							<li>
								<img src="img/bizhi.png" alt="" />
								<p><span class="p_title">品牌</span>这里是商品名称</p>
								<span class="pro_sp_left">88</span>
								<label for="">27</label>
							</li>
							<li>
								<img src="img/bizhi.png" alt="" />
								<p><span class="p_title">品牌</span>这里是商品名称</p>
								<span class="pro_sp_left">88</span>
								<label for="">27</label>
							</li>

						</ul>

					</div>

				</li>
				<li class="li_list" style="background:#F7F7F7">
				</li>
				<li class="li_list" style="background:#F7F7F7">
				</li>
				<li class="li_list" style="background:#F7F7F7">
				</li>
				<li class="li_list" style="background:#F7F7F7">
				</li>
				<li class="li_list" style="background:#F7F7F7">
				</li>
				<li class="li_list" style="background:#F7F7F7">
				</li>
				<li class="li_list" style="background:#F7F7F7">
				</li>
				<li class="li_list" style="background:#F7F7F7">
				</li>
				<li class="li_list" style="background:#F7F7F7">
				</li>

			</ul>
		</div>

		<script src="js/jquery.min.js" type="text/javascript" charset="utf-8"></script>
		<script src="js/swiper-3.4.2.min.js" type="text/javascript" charset="utf-8"></script>
		<script type="text/javascript">
			initSwiper();

			function initSwiper() {

				var mySwiper1 = new Swiper('.swiper-container1', {
					direction: 'horizontal',
					loop: true,

					// 如果需要分页器
					pagination: '.swiper-pagination',
					// 如果需要前进后退按钮
					nextButton: '.swiper-button-next',
					prevButton: '.swiper-button-prev',

				})

			}
		</script>

		<script type="text/javascript" src="js/touchslider.js"></script>
		<script type="text/javascript">
			// 给li定义高度，配合css使li独立滚动
			var $window = $(window);
			var initialWindowHeight = null;

			$window.resize(function() {
				sliderHeight();
			});

			sliderHeight();

			function sliderHeight() {
				var wHeight = $(window).height();
				var sliderHeight = wHeight - 92

				$(".swipe li").height(sliderHeight);
			}

			$(".find_nav_list").css("left", 0);

			$(".find_nav_list li").each(function() {
				$(".sideline").css({
					left: 0
				});
				$(".find_nav_list li").eq(0).addClass("find_nav_cur").siblings().removeClass("find_nav_cur");

			});
			var nav_w = $(".find_nav_list li").first().width();
			$(".sideline").width(nav_w);
			$(".find_nav_list li").on('click', function() {

				nav_w = $(this).width();
				$(".sideline").stop(true);
				$(".sideline").animate({
					left: $(this).position().left
				}, 300);
				$(".sideline").animate({
					width: nav_w
				});
				$(this).addClass("find_nav_cur").siblings().removeClass("find_nav_cur");
				var fn_w = ($(".find_nav").width() - nav_w) / 2;
				var fnl_l;
				var fnl_x = parseInt($(this).position().left);
				if(fnl_x <= fn_w) {
					fnl_l = 0;
				} else if(fn_w - fnl_x <= flb_w - fl_w) {
					fnl_l = flb_w - fl_w;
				} else {
					fnl_l = fn_w - fnl_x;
				}
				$(".find_nav_list").animate({
					"left": fnl_l
				}, 300);
				//   监听left  移动距离  
				  
					var list_left = $(".find_nav_list").css("left");
					localStorage.List_Left = list_left;
					console.log(list_left);
					var _index = $(this).index();
					localStorage.This_index = _index;
					console.log($(this).index())

			

			});
			var fl_w = $(".find_nav_list").width();
			var flb_w = $(".find_nav_left").width();
			$(".find_nav_list").on('touchstart', function(e) {
				var touch1 = e.originalEvent.targetTouches[0];
				x1 = touch1.pageX;
				y1 = touch1.pageY;
				ty_left = parseInt($(this).css("left"));
			});
			$(".find_nav_list").on('touchmove', function(e) {
				var touch2 = e.originalEvent.targetTouches[0];
				var x2 = touch2.pageX;
				var y2 = touch2.pageY;
				if(ty_left + x2 - x1 >= 0) {
					$(this).css("left", 0);
				} else if(ty_left + x2 - x1 <= flb_w - fl_w) {
					$(this).css("left", flb_w - fl_w);
				} else {
					$(this).css("left", ty_left + x2 - x1);
				}
				if(Math.abs(y2 - y1) > 0) {
					e.preventDefault();
				}
			});

			for(n = 1; n < 9; n++) {
				var page = 'pagenavi' + n;
				var mslide = 'slider' + n;
				var mtitle = 'emtitle' + n;
				arrdiv = 'arrdiv' + n;
				var as = $("#" + page + "").find("a");
				var tt = new TouchSlider({
					id: mslide,
					'auto': '-1',
					fx: 'ease-out',
					direction: 'left',
					speed: 600,
					timeout: 5000,
					'before': function(index) {
						var as = document.getElementById(this.page).getElementsByTagName('a');
						as[this.p].className = '';
						this.p = index;

						fnl_x = parseInt($(".find_nav_list li").eq(this.p).position().left);

						nav_w = $(".find_nav_list li").eq(this.p).width();
						$(".sideline").stop(true);
						$(".sideline").animate({
							left: $(".find_nav_list li").eq(this.p).position().left
						}, 300);
						$(".sideline").animate({
							width: nav_w
						}, 100);
						$(".find_nav_list li").eq(this.p).addClass("find_nav_cur").siblings().removeClass("find_nav_cur");
						var fn_w = ($(".find_nav").width() - nav_w) / 2;
						var fnl_l;
						if(fnl_x <= fn_w) {
							fnl_l = 0;
						} else if(fn_w - fnl_x <= flb_w - fl_w) {
							fnl_l = flb_w - fl_w;
						} else {
							fnl_l = fn_w - fnl_x;
						}
						$(".find_nav_list").animate({
							"left": fnl_l
						}, 300);
					}
				});
				tt.page = page;
				tt.p = 0;
				//console.dir(tt); console.dir(tt.__proto__);

				for(var i = 0; i < as.length; i++) {
					(function() {
						var j = i;
						as[j].tt = tt;
						as[j].onclick = function() {
							this.tt.slide(j);
							return false;
						}
					})();
				}
			}
		</script>

		<!--  tab 效果 -->
		<script type="text/javascript">
			$(".swip_left").click(function() {
				$(".box01_list").hide();
				$("#slider0").show();
				$($("#pagenavi1 li")).removeClass("find_nav_cur")
				$(".swip_left").css("color", "#ff3344");
				$(".sideline").animate({
					left: '0px'
				});

				$(".find_nav_list").animate({
					left: '0px'
				});
			})
			$("#pagenavi1").click(function() {

				$(".swip_left").css("color", "#666666");
				$(".box01_list").show();
				initSwiper();
			});
			$($("#pagenavi1 li")[0]).removeClass("find_nav_cur");

			//  页面滚动 

			var b = $(".find_nav").offset().top;
			console.log(b)

			function getTop() {
				var a = $('body').scrollTop();
				if(a < b) {
					$(".find_nav").removeClass("getTop");
				} else {
					$(".find_nav").addClass("getTop");
				}
			}

			$(".jiaju_content").height($(".jiaju_right").height());
			$(".jiaju_left img").height($(".jiaju_content").height());
			$(".jiaju_left img").width($(".jiaju_left").width());
			$(".con_ul_ul li")
			var height = 0;
			for(var _i = 0; _i < $(".con_ul_ul li").length; _i++) {
				//				$($(".con_ul_ul li")[])
				if(_i % 2 == 0) {
					$($(".con_ul_ul li")[_i]).css("float", "left");
					height = height += $($(".con_ul_ul li")[_i]).height();
					console.log(height);
					$(".con_ul_ul").height(height);
				} else {
					$($(".con_ul_ul li")[_i]).css("float", "right");
				}
			}
			$(".con_ul_ul").height();

			$(window).ready(function() {   
				$("#slider1").show();
				$(".box01_list").css({
					"position": "relative"
					,"transition": "left 0ms ease-out",
					"width": "8250px",
					"left": "0px",
					"display": "block"
				})
				$(".swip_left").css({
					"color":"rgb(102, 102, 102)"
				})
				initSwiper();
				$($("#pagenavi1 li")[0]).addClass("find_nav_cur")
				function getLeft() {
					
					var _left = localStorage.List_Left;
					if(_left == "undefined") {
						$(".find_nav_list").css("left", _left)
					} else {
						$(".find_nav_list").css("left", _left);
					}
					console.log(_left)

					var _index = localStorage.This_index;
					console.log(_index)
					if(_index == "undefined") {

					} else {
						$(".swip_left").css("color", "#666");
						$("#pagenavi1 li").removeClass("find_nav_cur");
						$($("#pagenavi1 li")[_index]).addClass("find_nav_cur");
						
					}

				}
				getLeft();

			})
//		
		</script>
	</body>

</html>